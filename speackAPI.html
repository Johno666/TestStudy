<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>朗读</title>
  </head>
  <body>
    <textarea autofocus type="text" id="text" value=""></textarea>
    <button onclick="read()">朗读</button>
    <button onclick="stop()">停止</button>
    <button onclick="pause()">暂停</button>
    <button onclick="resume()">继续</button>
    <button onclick="reset()">重置</button>
    <script>
              //给input框绑定默认值
              document.getElementById("text").value = "《出师表》全文 \n 诸葛亮 \n 先帝创业未半而中道崩殂，今天下三分，益州疲弊，此诚危急存亡之秋也。然侍卫之臣不懈于内，忠志之士忘身于外者，盖追先帝之殊遇，欲报之于陛下也。诚宜开张圣听，以光先帝遗德，恢弘志士之气，不宜妄自菲薄，引喻失义，以塞忠谏之路也。"
            function read() {
              var text = document.getElementById("text").value;
              var reader = new SpeechSynthesisUtterance(text);
              //改变声音
              // reader.voiceURI = 'Microsoft Yunxia Online (Natural) - Chinese (Mainland)'
              // reader.lang = "zh-CN"; //中文
              // reader.voice = speechSynthesis.getVoices()[62]//声音改变
              // reader.lang = 'zh-HK'//粤语
              reader.lang = 'ja-JP'//日语
              // reader.lang = 'th-th'//泰语
              // reader.lang = 'zh-TW'//台湾
              reader.volume = 100;
              // console.log(reader);
              window.speechSynthesis.speak(reader);
            }
            function stop() {
              window.speechSynthesis.cancel();
            }
            function pause() {
              window.speechSynthesis.pause();
            }
            function resume() {
              window.speechSynthesis.resume();
            }
            function reset() {
              window.speechSynthesis.cancel();
              window.speechSynthesis.resume(); 
            }
            window.speechSynthesis.onvoiceschanged = function () {
              var voices = window.speechSynthesis.getVoices();
              // console.log(voices);
              for (var i = 0; i < voices.length; i++) {
                if (voices[i].name.includes("Yunxia")) {
                  console.log(voices[i].name,i);
                }
              }
            };
    </script>
  </body>
</html>
